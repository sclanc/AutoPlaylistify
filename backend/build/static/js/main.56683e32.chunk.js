(this["webpackJsonpplaylist-app"]=this["webpackJsonpplaylist-app"]||[]).push([[0],{114:function(e,t,a){},125:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(12),s=a.n(i),c=a(16),l=a.n(c),o=a(19),u=a(9),m=a(21),h=a(50),d=a(17),j=(a(114),a(172)),b=a(201),p=a(175),f=a(2),x=function(e){var t=e.user;return Object(f.jsxs)(j.a,{position:"static",children:[Object(f.jsx)(h.b,{to:"/",children:Object(f.jsx)(p.a,{variant:"h2",component:"h2",color:"textPrimary",children:"Autoplaylistify"})}),t?Object(f.jsxs)("div",{className:"Header__items",children:[Object(f.jsx)(h.b,{to:"/Discover",children:Object(f.jsx)(p.a,{variant:"h4",component:"h2",color:"textPrimary",children:"Discover"})}),Object(f.jsx)(h.b,{to:"/Reporting",children:Object(f.jsx)(p.a,{variant:"h4",component:"h2",color:"textPrimary",children:"Reporting"})}),Object(f.jsx)(b.a,{src:t.images[0].url})]}):Object(f.jsx)("div",{children:Object(f.jsx)("a",{href:"http://www.autoplaylistify.com/login",children:Object(f.jsx)(p.a,{variant:"h4",component:"h2",color:"textPrimary",children:"Login"})})})]})},v=a.p+"static/media/s.42d38ce3.png",_=a.p+"static/media/sliders.807deed7.png",O=a.p+"static/media/gencard.402fc7a3.png",y=function(e){return e.hide?null:Object(f.jsxs)("div",{className:"Splash",children:[Object(f.jsx)("div",{className:"Splash__item",children:Object(f.jsx)("div",{className:"first",style:{backgroundImage:"url(".concat(v,")")},children:Object(f.jsx)(p.a,{variant:"h3",component:"h2",color:"textPrimary",children:"Harness the power of Spotify's Recomendations System to discover new music your way!"})})}),Object(f.jsxs)("div",{className:"Splash__item",children:[Object(f.jsx)("img",{className:"Splash__image",src:_,alt:"sliders"}),Object(f.jsxs)("div",{className:"Splash__item-text",children:[Object(f.jsx)(p.a,{variant:"h5",component:"h2",color:"textPrimary",children:"Perfect your recomendations, by optomizing for anything from popularity, and dancability, to tempo, time signature, and much more."}),Object(f.jsx)(p.a,{variant:"h5",component:"h2",color:"textPrimary",style:{paddingTop:"60px"},children:"Save your recomendation preferences, and use them to create playlists. You can even save them to your spotify account!"})]})]}),Object(f.jsxs)("div",{className:"Splash__item",style:{paddingBottom:"10px"},children:[Object(f.jsxs)("div",{children:[Object(f.jsx)("div",{className:"Splash__item-text",children:Object(f.jsx)(p.a,{variant:"h5",component:"h2",color:"textPrimary",children:"Create a daily, weekly or monthly refresh schedule for your playlists, so you can keep your music fresh."})}),Object(f.jsx)("div",{className:"Splash__item-text",style:{paddingTop:"60px"},children:Object(f.jsx)(p.a,{variant:"h5",component:"h2",color:"textPrimary",children:"Log in with your Spotify account to get Started."})})]}),Object(f.jsx)("img",{className:"Splash__image",src:O,alt:"generator card"})]})]})},g=a(186),k=a(200),S=a(198),w=a(197),N=a(97),C=a.n(N),T=a(42),D=a(177),G=a(178),A=a(202),P=a(176),E=function(e){var t=e.marks,a=e.step,n=e.title,r=e.description,i=e.value,s=e.getAriaValueText,c=e.onChange,l=e.valueLabelDisplay,o=e.valueLabelFormat,u=e.min,m=e.max,h=e.required,d=Object(P.a)({root:{width:650,paddingTop:20},title:{display:"flex",flexDirection:"row"},right:{paddingTop:3.5,paddingRight:10}})();return Object(f.jsxs)("div",{className:d.root,children:[Object(f.jsxs)("div",{className:d.title,children:[Object(f.jsx)(D.a,{title:r,children:Object(f.jsx)(p.a,{className:d.right,id:"range-slider",color:"textPrimary",children:n})}),!h&&null!==i[0]&&Object(f.jsx)(G.a,{variant:"contained",color:"primary",size:"small",onClick:function(){return c(null,[null,null])},children:"clear"})]}),Object(f.jsx)(A.a,{value:i,"aria-labelledby":"range-slider",getAriaValueText:s,marks:t,step:a,onChange:c,valueLabelDisplay:l,valueLabelFormat:o,min:u,max:m})]})},L=a(196),B=a(199),J=function(e,t){return fetch("https://api.spotify.com/v1/me",{headers:{Authorization:"Bearer "+e}}).then((function(e){if(401!==e.status)return e.json();fetch("http://www.autoplaylistify.com/refresh_token?refresh_token='".concat(t,"'")).then((function(e){return e.json()})).then((function(e){return console.log("refresh: ",e)})).then((function(e){return e}))})).catch((function(e){console.error(e)}))},R=function(e,t,a,n){return fetch("https://api.spotify.com/v1/search?q=".concat(a,"&type=").concat(e,"&market=").concat(n,"&limit=",50),{headers:{Authorization:"Bearer "+t}}).then((function(e){return e.json()})).catch((function(e){console.error(e)}))},q=function(e){return fetch("https://api.spotify.com/v1/recommendations/available-genre-seeds",{headers:{Authorization:"Bearer "+e}}).then((function(e){return e.json()})).catch((function(e){console.error(e)}))},z=function(e){var t=e.artists,a=e.tracks,n=e.genres,r=e.name,i=e.limit,s=e.acousticness,c=e.danceability,l=e.duration,o=e.energy,u=e.instrumentalness,m=e.key,h=e.liveness,d=e.loudness,j=e.mode,b=e.popularity,p=e.speechiness,f=e.tempo,x=e.timeSig,v=e.valence,_=e.market,O=e.id,y=e.user_id,g={};return g.limit=i[0],g.name=r,g.market=_,O&&(g.id=O),g.user_id=y,g.seed_artists=t,g.seed_tracks=a,g.seed_genres=n.toString(),c[0]&&(c[0]!==c[1]?(g.min_danceability=.01*c[0],g.max_danceability=.01*c[1]):g.target_danceability=.01*c[0]),l[0]&&(l[0]!==l[1]?(g.min_duration_ms=6e3*l[0],g.max_duration_ms=6e3*l[1]):g.target_duration_ms=6e3*l[0]),o[0]&&(o[0]!==o[1]?(g.min_energy=.01*o[0],g.max_energy=.01*o[1]):g.target_energy=.01*o[0]),u[0]&&(u[0]!==u[1]?(g.min_instrumentalness=.01*u[0],g.max_instrumentalness=.01*u[1]):g.target_instrumentalness=.01*u[0]),m[0]&&(m[0]!==m[1]?(g.min_key=m[0],g.max_key=m[1]):g.target_key=m[0]),h[0]&&(h[0]!==h[1]?(g.min_liveness=.01*h[0],g.max_liveness=.01*h[1]):g.target_liveness=.01*h[0]),b[0]&&(b[0]!==b[1]?(g.min_popularity=b[0],g.max_popularity=b[1]):g.target_popularity=b[0]),p[0]&&(p[0]!==p[1]?(g.min_speechiness=.01*p[0],g.max_speechiness=.01*p[1]):g.target_speechiness=.01*p[0]),f[0]&&(f[0]!==f[1]?(g.min_tempo=f[0],g.max_tempo=f[1]):g.target_tempo=f[0]),x[0]&&(x[0]!==x[1]?(g.min_timeSignature=x[0],g.max_timeSignature=x[1]):g.target_timeSignature=x[0]),v[0]&&(v[0]!==v[1]?(g.min_valence=.01*v[0],g.max_valence=.01*v[1]):g.target_valence=.01*v[0]),s[0]&&(s[0]!==s[1]?(g.min_acousticness=.01*s[0],g.max_acousticness=.01*s[1]):g.target_acousticness=.01*s[0]),d[0]&&(d[0]!==d[1]?(g.min_loudness=.01*d[0],g.max_loudness=.01*d[1]):g.target_loudness=.01*d[0]),j&&(g.min_mode=j[0],g.max_mode=j[1]),g},F=function(e){var t=e.onChange,a=e.type,r=e.at,i=e.market,s=e.label,c=e.setError,h=Object(n.useState)(null),d=Object(u.a)(h,2),j=d[0],b=d[1],p=Object(n.useState)([]),x=Object(u.a)(p,2),v=x[0],_=x[1],O=Object(n.useState)(null),y=Object(u.a)(O,2),g=y[0],k=y[1],S=function(e){b(e.target.value),g&&clearTimeout(g),k(setTimeout((function(){e.target.value.length>0&&w(e.target.value)}),1e3))},w=function(){var e=Object(o.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,n=null,"genre"!==a){e.next=10;break}return e.next=5,q(r);case 5:if(!(n=e.sent).error){e.next=8;break}throw n.error.message;case 8:return n.genres&&_(n.genres),e.abrupt("return");case 10:return e.next=12,R(a,r,t,i);case 12:if(!(n=e.sent).error){e.next=15;break}throw n.error.message;case 15:n[a+"s"]&&_(n[a+"s"].items),e.next=22;break;case 18:e.prev=18,e.t0=e.catch(0),console.error(e.t0),c(e.t0);case 22:case"end":return e.stop()}}),e,null,[[0,18]])})));return function(t){return e.apply(this,arguments)}}();return Object(f.jsx)("div",{style:{width:300},children:Object(f.jsx)(B.a,{onChange:function(e,a){t(e,a)},freeSolo:!0,options:v,getOptionLabel:function(e){switch(e){case"artist":return function(e){return e.name};case"genre":return function(e){return e};case"track":return function(e){var t=e.artists.map((function(e){return e.name}));return t.length>0?"".concat(e.name," by ").concat(t.toString()):e.name};default:return}}(a),renderInput:function(e){return Object(f.jsx)(L.a,Object(m.a)(Object(m.a)({},e),{},{label:s,margin:"normal",variant:"outlined",value:j,onChange:S}))}})})},M=a(203),I=a(180),H=a(89),U=a(90),V=function(){function e(t){var a=t.seed_artists,n=t.seed_genres,r=t.seed_tracks,i=t.name,s=t.limit,c=t.market,l=t.min_danceability,o=t.min_duration_ms,u=t.min_energy,m=t.min_instrumentalness,h=t.min_key,d=t.min_liveness,j=t.min_popularity,b=t.min_speechiness,p=t.min_tempo,f=t.min_timeSignature,x=t.min_valence,v=t.min_acousticness,_=t.min_loudness,O=t.min_mode,y=t.max_danceability,g=t.max_duration_ms,k=t.max_energy,S=t.max_instrumentalness,w=t.max_key,N=t.max_liveness,C=t.max_popularity,T=t.max_speechiness,D=t.max_tempo,G=t.max_timeSignature,A=t.max_valence,P=t.max_acousticness,E=t.max_loudness,L=t.max_mode,B=t.target_danceability,J=t.target_duration_ms,R=t.target_energy,q=t.target_instrumentalness,z=t.target_liveness,F=t.target_popularity,M=t.target_speechiness,I=t.target_tempo,U=t.target_timeSignature,V=t.target_valence,W=t.target_acousticness,K=t.target_loudness,Y=t.user_id,Q=t.id;Object(H.a)(this,e),this.playlist=null,this.limit=s,this.name=i,this.market=c,this.seed_artists="string"===typeof a?JSON.parse(a):a,this.seed_tracks="string"===typeof r?JSON.parse(r):r,this.seed_genres=n,this.min_danceability=l,this.min_duration_ms=o,this.min_energy=u,this.min_instrumentalness=m,this.min_key=h,this.min_liveness=d,this.min_popularity=j,this.min_speechiness=b,this.min_tempo=p,this.min_timeSignature=f,this.min_valence=x,this.min_acousticness=v,this.min_loudness=_,this.min_mode=O,this.max_duration_ms=g,this.max_energy=k,this.max_instrumentalness=S,this.max_key=w,this.max_liveness=N,this.max_danceability=y,this.max_popularity=C,this.max_speechiness=T,this.max_tempo=D,this.max_timeSignature=G,this.max_valence=A,this.max_acousticness=P,this.max_loudness=E,this.max_mode=L,this.target_duration_ms=J,this.target_energy=R,this.target_instrumentalness=q,this.target_liveness=z,this.target_danceability=B,this.target_popularity=F,this.target_speechiness=M,this.target_tempo=I,this.target_timeSignature=U,this.target_valence=V,this.target_acousticness=W,this.target_loudness=K,this.user_id=Y,this.id=Q}return Object(U.a)(e,[{key:"format",value:function(e){if(void 0!==this[e]&&null!==this[e])switch(e){case"seed_artists":var t=this.seed_artists.map((function(e){return e.id})).toString();return"&".concat(e,"=").concat(t);case"seed_tracks":var a=this.seed_tracks.map((function(e){return e.id})).toString();return"&".concat(e,"=").concat(a);default:return"&".concat(e,"=").concat(this[e])}return""}},{key:"run",value:function(){var e=Object(o.a)(l.a.mark((function e(t,a){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,fetch("https://api.spotify.com/v1/recommendations?\n".concat(this.format("limit"),"\n").concat(this.format("market"),"\n").concat(this.format("seed_artists"),"\n").concat(this.format("seed_tracks"),"\n").concat(this.format("seed_genres"),"\n").concat(this.format("min_duration_ms"),"\n").concat(this.format("min_energy"),"\n").concat(this.format("min_instrumentalness"),"\n").concat(this.format("min_key"),"\n").concat(this.format("min_liveness"),"\n").concat(this.format("min_danceability"),"\n").concat(this.format("min_popularity"),"\n").concat(this.format("min_speechiness"),"\n").concat(this.format("min_tempo"),"\n").concat(this.format("min_timeSignature"),"\n").concat(this.format("min_valence"),"\n").concat(this.format("min_acousticness"),"\n").concat(this.format("min_loudness"),"\n").concat(this.format("min_mode"),"\n").concat(this.format("max_duration_ms"),"\n").concat(this.format("max_energy"),"\n").concat(this.format("max_instrumentalness"),"\n").concat(this.format("max_key"),"\n").concat(this.format("max_liveness"),"\n").concat(this.format("max_danceability"),"\n").concat(this.format("max_popularity"),"\n").concat(this.format("max_speechiness"),"\n").concat(this.format("max_tempo"),"\n").concat(this.format("max_timeSignature"),"\n").concat(this.format("max_valence"),"\n").concat(this.format("max_acousticness"),"\n").concat(this.format("max_loudness"),"\n").concat(this.format("max_mode"),"\n").concat(this.format("target_duration_ms"),"\n").concat(this.format("target_energy"),"\n").concat(this.format("target_instrumentalness"),"\n").concat(this.format("target_liveness"),"\n").concat(this.format("target_danceability"),"\n").concat(this.format("target_popularity"),"\n").concat(this.format("target_speechiness"),"\n").concat(this.format("target_tempo"),"\n").concat(this.format("target_timeSignature"),"\n").concat(this.format("target_valence"),"\n").concat(this.format("target_acousticness"),"\n").concat(this.format("target_loudness")),{headers:{Authorization:"Bearer "+t}}).then((function(e){return e.json()}));case 5:if(!(n=e.sent).error){e.next=10;break}throw n.error;case 10:return this.playlist=n.tracks,e.abrupt("return",this.playlist);case 12:e.next=21;break;case 14:if(e.prev=14,e.t0=e.catch(2),!a){e.next=20;break}a(e.t0),e.next=21;break;case 20:throw e.t0;case 21:case"end":return e.stop()}}),e,this,[[2,14]])})));return function(t,a){return e.apply(this,arguments)}}()},{key:"postBody",value:function(){return{id:this.id,user_id:this.user_id,lim:this.limit,name:this.name,market:this.market,seed_artists:JSON.stringify(this.seed_artists).replace("'","\\'"),seed_tracks:JSON.stringify(this.seed_tracks).replace("'","\\'"),seed_genres:this.seed_genres,min_danceability:this.min_danceability,min_duration_ms:this.min_duration_ms,min_energy:this.min_energy,min_instrumentalness:this.min_instrumentalness,min_key:this.min_key,min_liveness:this.min_liveness,min_popularity:this.min_popularity,min_speechiness:this.min_speechiness,min_tempo:this.min_tempo,min_timeSignature:this.min_timeSignature,min_valence:this.min_valence,min_acousticness:this.min_acousticness,min_loudness:this.min_loudness,min_mode:this.min_mode,max_duration_ms:this.max_duration_ms,max_energy:this.max_energy,max_instrumentalness:this.max_instrumentalness,max_key:this.max_key,max_liveness:this.max_liveness,max_danceability:this.max_danceability,max_popularity:this.max_popularity,max_speechiness:this.max_speechiness,max_tempo:this.max_tempo,max_timeSignature:this.max_timeSignature,max_valence:this.max_valence,max_acousticness:this.max_acousticness,max_loudness:this.max_loudness,max_mode:this.max_mode,target_duration_ms:this.target_duration_ms,target_energy:this.target_energy,target_instrumentalness:this.target_instrumentalness,target_liveness:this.target_liveness,target_danceability:this.target_danceability,target_popularity:this.target_popularity,target_speechiness:this.target_speechiness,target_tempo:this.target_tempo,target_key:this.target_key,target_timeSignature:this.target_timeSignature,target_valence:this.target_valence,target_acousticness:this.target_acousticness,target_loudness:this.target_loudness}}},{key:"toFormData",value:function(){var e=this,t={},a=function(t){return e["target_".concat(t)]?[e["target_".concat(t)],e["target_".concat(t)]]:e["min_".concat(t)]?[100*e["min_".concat(t)],100*e["max_".concat(t)]]:[null,null]};return t.artists=this.seed_artists,t.tracks=this.seed_tracks,t.genres=this.seed_genres.split(","),t.name=this.name,t.limit=[this.limit||20],t.danceability=a("danceability"),t.acousticness=a("acousticness"),t.danceability=a("danceability"),t.duration=a("duration"),t.energy=a("energy"),t.instrumentalness=a("instrumentalness"),t.key=a("key"),t.liveness=a("liveness"),t.loudness=a("loudness"),t.mode=a("mode"),t.popularity=a("popularity"),t.speechiness=a("speechiness"),t.tempo=a("tempo"),t.timeSig=a("timeSig"),t.valence=a("valence"),t}}]),e}(),W=function(e){var t=e.exisitingGenerator,a=e.at,r=e.user,i=e.setError,s=e.fetchGenerators,c=e.closeSelf,m=Object(n.useState)([]),h=Object(u.a)(m,2),d=h[0],j=h[1],b=Object(n.useState)([]),x=Object(u.a)(b,2),v=x[0],_=x[1],O=Object(n.useState)([]),y=Object(u.a)(O,2),g=y[0],k=y[1],S=Object(n.useState)(""),w=Object(u.a)(S,2),N=w[0],C=w[1],A=Object(n.useState)([20]),P=Object(u.a)(A,2),B=P[0],J=P[1],R=Object(n.useState)([null,null]),q=Object(u.a)(R,2),H=q[0],U=q[1],W=Object(n.useState)([null,null]),K=Object(u.a)(W,2),Y=K[0],Q=K[1],X=Object(n.useState)([null,null]),Z=Object(u.a)(X,2),$=Z[0],ee=Z[1],te=Object(n.useState)([null,null]),ae=Object(u.a)(te,2),ne=ae[0],re=ae[1],ie=Object(n.useState)([null,null]),se=Object(u.a)(ie,2),ce=se[0],le=se[1],oe=Object(n.useState)([null,null]),ue=Object(u.a)(oe,2),me=ue[0],he=ue[1],de=Object(n.useState)([null,null]),je=Object(u.a)(de,2),be=je[0],pe=je[1],fe=Object(n.useState)([null,null]),xe=Object(u.a)(fe,2),ve=xe[0],_e=xe[1],Oe=Object(n.useState)([0,1]),ye=Object(u.a)(Oe,2),ge=ye[0],ke=ye[1],Se=Object(n.useState)([null,null]),we=Object(u.a)(Se,2),Ne=we[0],Ce=we[1],Te=Object(n.useState)([null,null]),De=Object(u.a)(Te,2),Ge=De[0],Ae=De[1],Pe=Object(n.useState)([null,null]),Ee=Object(u.a)(Pe,2),Le=Ee[0],Be=Ee[1],Je=Object(n.useState)([null,null]),Re=Object(u.a)(Je,2),qe=Re[0],ze=Re[1],Fe=Object(n.useState)([null,null]),Me=Object(u.a)(Fe,2),Ie=Me[0],He=Me[1];Object(n.useEffect)((function(){if(t){var e=t.toFormData(),a=e.artists,n=e.tracks,r=e.genres,i=e.name,s=e.limit,c=e.acousticness,l=e.danceability,o=e.duration,u=e.energy,m=e.instrumentalness,h=e.key,d=e.liveness,b=e.loudness,p=e.mode,f=e.popularity,x=e.speechiness,v=e.tempo,O=e.timeSig,y=e.valence;j(a),_(n),k(r),C(i),J(s),U(c),Q(l),ee(o),re(u),le(m),he(h),pe(d),_e(b),ke(p),Ce(f),Ae(x),Be(v),ze(O),He(y)}}),[t]);var Ue=function(e,t){var a=function(e,t){switch(t){case"artist":return d.map((function(e){return e.id})).indexOf(e.id);case"track":return v.map((function(e){return e.id})).indexOf(e.id);case"genre":return g.indexOf(e);default:return-1}}(e,t);if(d.length+g.length+v.length+1>5)i("Cannot exceed 5 seed Artist(s), Genre(s), or Track(s)");else switch(t){case"artist":if(a>=0)return;j((function(t){return[].concat(Object(T.a)(t),[e])}));break;case"track":if(a>=0)return;_((function(t){return[].concat(Object(T.a)(t),[e])}));break;case"genre":if(a>=0)return;k((function(t){return[].concat(Object(T.a)(t),[e])}));break;default:return}},Ve=function(e,t){return e.map((function(e){return Object(f.jsx)(M.a,{label:e.name?e.name:e,onDelete:function(){return function(e,t){switch(t){case"artist":var a=d.filter((function(t){return t.id!==e.id}));j(a);break;case"track":var n=v.filter((function(t){return t.id!==e.id}));_(n);break;case"genre":var r=g.filter((function(t){return t!==e}));k(r);break;default:return}}(e,t)}},e.id)}))},We=function(){var e=Object(o.a)(l.a.mark((function e(){var a,n,o,u;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=r.country,n=r.id,o=new V(z({id:t?t.id:null,artists:d,tracks:v,genres:g,name:N,limit:B,acousticness:H,danceability:Y,duration:$,energy:ne,instrumentalness:ce,key:me,liveness:be,loudness:ve,mode:ge,popularity:Ne,speechiness:Ge,tempo:Le,timeSig:qe,valence:Ie,market:a,user_id:n})),e.prev=3,e.next=6,fetch("http://www.autoplaylistify.com/generator",{method:"POST",cache:"no-cache",credentials:"same-origin",headers:{Accept:"application/json","Content-Type":"application/json"},redirect:"follow",referrerPolicy:"no-referrer",body:JSON.stringify(o.postBody())}).then((function(e){return e.json()}));case 6:if(!(u=e.sent).success){e.next=11;break}s(),e.next=12;break;case 11:throw u.error;case 12:c(),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(3),e.t0.message&&i(e.t0.message);case 18:case"end":return e.stop()}}),e,null,[[3,15]])})));return function(){return e.apply(this,arguments)}}();return Object(f.jsx)("div",{className:"NewGen__modal",children:Object(f.jsxs)("div",{className:"NewGen__container",children:[Object(f.jsx)(p.a,{variant:"h2",component:"h2",color:"textSecondary",style:{paddingBottom:"20px"},children:"Playlist Details"}),Object(f.jsx)(p.a,{variant:"h6",component:"div",color:"textSecondary",children:"Required Information (1-5 seed artists, tracks, or genres)"}),Object(f.jsxs)("div",{className:"NewGen__required",children:[Object(f.jsxs)("div",{className:"NewGen__required-group",children:[Object(f.jsx)("div",{children:Object(f.jsx)(L.a,{label:"Name",margin:"normal",variant:"outlined",value:N,onChange:function(e){return C(e.target.value)}})}),Object(f.jsxs)("div",{children:[Object(f.jsx)(F,{setError:i,onChange:function(e,t){return t?Ue(t,"genre"):void 0},type:"genre",at:a,market:r.country,label:"Genres"}),Object(f.jsx)("div",{className:"NewGen__chips",children:Ve(g,"genre")})]})]}),Object(f.jsxs)("div",{className:"NewGen__required-group",children:[Object(f.jsxs)("div",{children:[Object(f.jsx)(F,{setError:i,onChange:function(e,t){return t?Ue({id:t.id,name:t.name},"artist"):void 0},type:"artist",at:a,market:r.country,label:"Artists"}),Object(f.jsx)("div",{className:"NewGen__chips",children:Ve(d,"artist")})]}),Object(f.jsxs)("div",{children:[Object(f.jsx)(F,{setError:i,onChange:function(e,t){return t?Ue({id:t.id,name:t.name},"track"):void 0},type:"track",at:a,market:r.country,label:"Tracks"}),Object(f.jsx)("div",{className:"NewGen__chips",children:Ve(v,"track")})]})]})]}),Object(f.jsx)(I.a,{variant:"middle"}),Object(f.jsx)(D.a,{title:"Specify a minimum and maximum value for any of the following attributes. If min and max are the same, the value will be used as the target",children:Object(f.jsx)(p.a,{variant:"h6",component:"div",color:"textSecondary",style:{marginTop:"30px"},children:"Optional Details"})}),Object(f.jsxs)("div",{className:"NewGen__optional",children:[Object(f.jsx)(E,{valueLabelDisplay:"auto",title:"Number of Tracks",value:B,min:1,required:!0,marks:[{value:1,label:1},{value:20,label:20},{value:40,label:40},{value:60,label:60},{value:80,label:80},{value:100,label:100}],description:"defaults to 20",onChange:function(e,t){return J(t)}}),Object(f.jsx)(E,{valueLabelDisplay:"auto",title:"acousticness",description:"A measure of whether or not a track is recorded in the acoustic style, without electric amplification.",marks:[{value:0,label:"electric"},{value:33,label:"less electric"},{value:66,label:"more acoustic"},{value:100,label:"mostly acoustic"}],value:H,onChange:function(e,t){return U(t)}}),Object(f.jsx)(E,{valueLabelDisplay:"auto",title:"Danceability",marks:[{value:0,label:"dirge"},{value:33,label:"more danceable"},{value:66,label:"mostly danceable"},{value:100,label:"move it, move it"}],description:"A measure of how suitable a track is for dancing based on a combination of musical elements including tempo, rhythm stability, beat strength, and overall regularity.",value:Y,onChange:function(e,t){return Q(t)}}),Object(f.jsx)(E,{valueLabelDisplay:"auto",title:"Energy",marks:[{value:0,label:"chill"},{value:33,label:"coffee shop"},{value:66,label:"pumped up"},{value:100,label:"rave"}],description:"Represents a perceptual measure of intensity and activity. Typically, energetic tracks feel fast, loud, and noisy.",value:ne,onChange:function(e,t){return re(t)}}),Object(f.jsx)(E,{valueLabelDisplay:"auto",title:"Instrumentalness",marks:[{value:0,label:"contains vocals"},{value:100,label:"instrumental"}],description:"Predicts whether a track contains no vocals. \u201cOoh\u201d and \u201caah\u201d sounds are treated as instrumental in this context",value:ce,onChange:function(e,t){return le(t)}}),Object(f.jsx)(E,{valueLabelDisplay:"off",title:"Key",min:0,max:11,marks:[{value:0,label:"C"},{value:1,label:"C#"},{value:2,label:"D"},{value:3,label:"D#"},{value:4,label:"E"},{value:5,label:"F"},{value:6,label:"F#"},{value:7,label:"G"},{value:8,label:"G#"},{value:9,label:"A"},{value:10,label:"A#"},{value:11,label:"B"}],value:me,onChange:function(e,t){return he(t)}}),Object(f.jsx)(E,{valueLabelDisplay:"auto",title:"Liveness",marks:[{value:0,label:"no audiance"},{value:66,label:"live recording"},{value:100,label:"large, excited audiance"}],description:"Detects the presence of an audience in the recording. A value above 80 provides strong likelihood that the track is live.",value:be,onChange:function(e,t){return pe(t)}}),Object(f.jsx)(E,{valueLabelDisplay:"auto",title:"Loudness",marks:[{value:0,label:"quiet"},{value:100,label:"loud"}],value:ve,onChange:function(e,t){return _e(t)}}),Object(f.jsx)(E,{valueLabelDisplay:"auto",description:"Speechiness detects the presence of spoken words in a track.",title:"Speechiness",value:Ge,marks:[{value:0,label:"music"},{value:33,label:"music & speech"},{value:66,label:"mostly words"},{value:100,label:"all words"}],onChange:function(e,t){return Ae(t)}}),Object(f.jsx)(E,{title:"Duration",description:"The acceptable duration of selected tracks","aria-labelledby":"continuous-slider",value:$,max:100,valueLabelDisplay:"off",step:5,marks:[{value:10,label:"1:00"},{value:20,label:"2:00"},{value:30,label:"3:00"},{value:40,label:"4:00"},{value:50,label:"5:00"},{value:60,label:"6:00"},{value:70,label:"7:00"},{value:80,label:"8:00"},{value:90,label:"9:00"},{value:100,label:"10:00"}],onChange:function(e,t){return ee(t)}}),Object(f.jsx)(E,{valueLabelDisplay:"auto",title:"Mode",min:0,max:1,required:!0,marks:[{value:0,label:"minor"},{value:1,label:"major"}],value:ge,onChange:function(e,t){return ke(t)}}),Object(f.jsx)(E,{valueLabelDisplay:"auto",title:"Popularity",marks:[{value:0,label:"obscure"},{value:100,label:"popular"}],value:Ne,onChange:function(e,t){return Ce(t)}}),Object(f.jsx)(E,{valueLabelDisplay:"auto",title:"Tempo",min:30,max:300,marks:[{value:30,label:"30 BPM"},{value:300,label:"300 BPM"}],value:Le,onChange:function(e,t){return Be(t)}}),Object(f.jsx)(E,{valueLabelDisplay:"off",title:"Time Signature",min:2,max:12,step:null,marks:[{value:2,label:"2/4"},{value:3,label:"3/4"},{value:4,label:"4/4"},{value:5,label:"5/4"},{value:6,label:"6/8"},{value:9,label:"9/8"},{value:12,label:"12/8"}],value:qe,onChange:function(e,t){return ze(t)}}),Object(f.jsx)(E,{valueLabelDisplay:"auto",title:"Valence",marks:[{value:0,label:"less happy"},{value:100,label:"most happy"}],value:Ie,onChange:function(e,t){return He(t)}})]}),Object(f.jsx)("div",{className:"NewGen__submit",children:Object(f.jsx)(G.a,{variant:"contained",color:"primary",size:"large",onClick:function(){return N.length>0&&d.length+v.length+g.length>0?We():i("Name, Artist(s), Genre(s), and Track(s) are required")},children:"Save Playlist Generator"})})]})})},K=a(92),Y=a.n(K),Q=a(94),X=a.n(Q),Z=a(68),$=a.n(Z),ee=a(93),te=a.n(ee),ae=a(69),ne=a.n(ae),re=a(70),ie=a.n(re),se=a(95),ce=a.n(se),le=a(181),oe=a(182),ue=a(183),me=a(184),he=a(185),de=a(179),je=a(91),be=a.n(je),pe=function(e){var t=e.tracks,a=e.saveToSpotify,n=e.getTracks,r=(e.at,function(e){var t=Math.floor(e/6e4),a=(e%6e4/1e3).toFixed(0);return t+":"+(a<10?"0":"")+a});return Object(f.jsx)("div",{className:"NewGen__modal",children:Object(f.jsxs)("div",{className:"NewGen__container",children:[Object(f.jsx)(D.a,{title:"Refresh your playlist with new tracks.",children:Object(f.jsx)(de.a,{onClick:n,"aria-label":"Refresh",children:Object(f.jsx)($.a,{color:"primary"})})}),Object(f.jsx)(D.a,{title:"Save your playlist to your spotify account.",children:Object(f.jsx)(de.a,{onClick:a,"aria-label":"Save",size:"large",children:Object(f.jsx)(ne.a,{color:"primary"})})}),Object(f.jsxs)("div",{className:"Track__header",children:[Object(f.jsx)("div",{className:"Track__header-item",children:Object(f.jsx)(p.a,{variant:"p3",component:"p3",color:"textSecondary",children:"Track"})}),Object(f.jsx)("div",{className:"Track__header-item",children:Object(f.jsx)(p.a,{variant:"p3",component:"p3",color:"textSecondary",children:"Album"})}),Object(f.jsx)("div",{style:{flex:".5"},children:Object(f.jsx)(p.a,{variant:"p3",component:"p3",color:"textSecondary",children:Object(f.jsx)(ie.a,{disabled:!0,color:"textPrimary"})})})]}),Object(f.jsx)(I.a,{variant:"middle"}),t.map((function(e){return function(e){return Object(f.jsxs)("div",{className:"Track",children:[e.is_playable&&Object(f.jsx)(de.a,{onClick:void 0,"aria-label":"delete",children:Object(f.jsx)(be.a,{color:"primary"})}),Object(f.jsx)("img",{src:e.album.images[2].url,alt:"album artwork",className:"Track__albumArt"}),Object(f.jsxs)("div",{className:"Track__info",children:[Object(f.jsx)("div",{children:Object(f.jsx)(p.a,{variant:"p1",component:"h2",color:"textPrimary",children:e.name})}),Object(f.jsxs)("div",{className:"Tracks__artist",children:[e.explicit&&Object(f.jsx)("div",{className:"Tracks__explicit",children:"E"}),Object(f.jsx)("div",{children:Object(f.jsx)(p.a,{variant:"p1",component:"h3",color:"textSecondary",children:e.artists[0].name})})]})]}),Object(f.jsx)("div",{className:"Track__info",children:Object(f.jsx)(p.a,{variant:"p1",component:"h3",color:"textSecondary",children:e.album.name})}),Object(f.jsx)("div",{style:{flex:".5"},children:Object(f.jsx)(p.a,{variant:"p1",component:"h3",color:"textSecondary",children:r(e.duration_ms)})})]})}(e)}))]})})},fe=Object(P.a)({root:{maxWidth:345},media:{height:320,width:320}}),xe=function(e){var t=e.removeGenerator,a=e.generator,i=e.at,s=e.setError,c=e.edit,m=e.discover,h=fe(),d=Object(n.useState)(null),j=Object(u.a)(d,2),b=j[0],x=j[1],v=Object(n.useState)([]),_=Object(u.a)(v,2),O=_[0],y=_[1],g=Object(n.useState)([]),k=Object(u.a)(g,2),w=k[0],N=k[1],C=Object(n.useState)(!1),G=Object(u.a)(C,2),A=G[0],P=G[1],E=function(){var e=Object(o.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.run(i);case 2:t=e.sent,x(t),B(t[0].artists[0].href),B(t[1].artists[0].href),B(t[2].artists[0].href),B(t[3].artists[0].href);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)((function(){a&&i&&E()}),[a,i]);var L=function(){return P((function(e){return!e}))},B=function(e){try{fetch(e,{headers:{Authorization:"Bearer "+i}}).then((function(e){if(e.status>300)throw e.error;return e.json()})).then((function(e){y((function(t){return[].concat(Object(T.a)(t),[e.images[2].url])})),N((function(t){return[].concat(Object(T.a)(t),[e.name])}))}))}catch(t){return console.error(t),s(t),null}},J=function(){try{fetch("https://api.spotify.com/v1/users/".concat(a.user_id,"/playlists"),{method:"POST",cache:"no-cache",credentials:"same-origin",headers:{Authorization:"Bearer "+i,Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({name:"".concat(a.name," (from AutoPlaylistify)")})}).then((function(e){if(e.status>300)throw e.error;return e})).then((function(e){return e.json()})).then((function(e){e.id?fetch("https://api.spotify.com/v1/playlists/".concat(e.id,"/tracks"),{method:"POST",cache:"no-cache",credentials:"same-origin",headers:{Authorization:"Bearer "+i,Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({position:0,uris:b.map((function(e){return e.uri}))})}):s("Unable to save playlist")}))}catch(e){console.log(e),s("Unable to save playlist")}},R=function(e){return Object(f.jsx)("div",{className:"GeneratorCard__images",style:O[e]?{backgroundImage:"url(".concat(O[e],")"),backgroundSize:"cover"}:{backgroundColor:"grey"},alt:"Album Artwork"})};return Object(f.jsxs)("div",{style:{paddingTop:"25px"},children:[Object(f.jsxs)(le.a,{className:h.root,children:[Object(f.jsxs)(oe.a,{onClick:L,children:[Object(f.jsx)(ue.a,{className:h.media,children:Object(f.jsxs)("div",{style:{width:"386px"},children:[Object(f.jsxs)("div",{style:{display:"flex"},children:[R(0),R(1)]}),Object(f.jsxs)("div",{style:{display:"flex"},children:[R(2),R(3)]})]})}),Object(f.jsxs)(me.a,{children:[Object(f.jsx)(p.a,{gutterBottom:!0,variant:"h5",component:"h2",children:a.name}),Object(f.jsxs)(p.a,{variant:"body2",color:"textSecondary",component:"p",children:[Object(f.jsx)("div",{children:"Inspired by: ".concat(a.seed_genres)}),Object(f.jsx)("div",{children:"Featuring: ".concat(w[0],", ").concat(w[1],", ").concat(w[2],", and more.")})]})]})]}),Object(f.jsxs)(he.a,{children:[Object(f.jsx)(D.a,{title:"Refresh your playlist with new tracks.",children:Object(f.jsx)(de.a,{onClick:E,"aria-label":"Refresh",children:Object(f.jsx)($.a,{color:"primary"})})}),Object(f.jsx)(D.a,{title:"Save your playlist to your spotify account.",children:Object(f.jsx)(de.a,{onClick:J,"aria-label":"Save",children:Object(f.jsx)(ne.a,{color:"primary"})})}),!m&&Object(f.jsxs)(r.a.Fragment,{children:[Object(f.jsx)(D.a,{title:"Schedule your playlist to refresh and save to your spotify account automatically. (still in development)",children:Object(f.jsx)(de.a,{"aria-label":"Schedule",children:Object(f.jsx)(ie.a,{disabled:!0,color:"primary"})})}),Object(f.jsx)(D.a,{title:"Share this playlist with a friend (still in development)",children:Object(f.jsx)(de.a,{"aria-label":"Share",children:Object(f.jsx)(Y.a,{color:"primary"})})}),Object(f.jsx)(D.a,{title:"Edit your playlist generator",children:Object(f.jsx)(de.a,{onClick:function(){return c(a)},"aria-label":"Edit",children:Object(f.jsx)(te.a,{color:"primary"})})}),Object(f.jsx)(D.a,{title:"Delete your playlist generator",children:Object(f.jsx)(de.a,{onClick:function(){try{fetch("http://www.autoplaylistify.com/delete?id=".concat(a.id)).then((function(e){return e.json()})).then((function(e){if(e.error)throw e.error;t(a.id)}))}catch(e){s(e)}},"aria-label":"delete",children:Object(f.jsx)(X.a,{color:"primary"})})})]}),m&&Object(f.jsx)(D.a,{title:"Copy this playlist to your Autoplaylistify account (still in development)",children:Object(f.jsx)(de.a,{"aria-label":"copy",children:Object(f.jsx)(ce.a,{color:"primary"})})})]})]}),Object(f.jsx)(S.a,{open:A,onBackdropClick:L,children:Object(f.jsx)(pe,{tracks:b,saveToSpotify:J,getTracks:E,at:i})})]})},ve=a(204),_e=a(96),Oe=a.n(_e),ye=function(e){e.onKeyUp;return Object(f.jsxs)("div",{className:"Search",children:[Object(f.jsx)("div",{children:Object(f.jsx)(Oe.a,{})}),Object(f.jsx)(ve.a,{placeholder:"Search\u2026",inputProps:{"aria-label":"search"}})]})},ge=function(e){var t=e.hide,a=e.user,i=e.at,s=e.setError,c=Object(n.useState)(!1),h=Object(u.a)(c,2),d=h[0],j=h[1],b=Object(n.useState)(!1),x=Object(u.a)(b,2),v=x[0],_=x[1],O=Object(n.useState)(null),y=Object(u.a)(O,2),N=y[0],T=y[1],D=Object(n.useState)(null),G=Object(u.a)(D,2),A=G[0],P=G[1],E=function(){var e=Object(o.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{fetch("http://www.autoplaylistify.com/generator?user_id=".concat(a.id)).then((function(e){return e.json()})).then((function(e){if(e.error)throw e.error;var t=[];for(var a in e){var n=new V(Object(m.a)(Object(m.a)({},e[a]),{},{limit:e[a].lim}));n.playlist||n.run(i),t.push(n)}T(t)}))}catch(t){s(t)}case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)((function(){a&&E()}),[a,s]);var L=function(e){return T((function(t){return t.filter((function(t){return t.id!==e}))}))},B=function(){return j((function(e){return!e}))},J=N?N.map((function(e){return Object(f.jsx)(xe,{generator:e,at:i,setError:s,removeGenerator:L,edit:function(){P(e),B()}})})):null,R=r.a.forwardRef((function(e,t){return Object(f.jsx)(W,Object(m.a)(Object(m.a)({},e),{},{ref:t}))}));return t?null:Object(f.jsxs)("div",{className:"Main",children:[Object(f.jsxs)("div",{className:"Main__activities",children:[Object(f.jsx)(ye,{}),Object(f.jsx)(g.a,{color:"primary","aria-label":"add",onClick:B,children:Object(f.jsx)(C.a,{})})]}),Object(f.jsx)("div",{className:"Main__GeneratorCards",children:J||Object(f.jsx)("div",{className:"Main__noGenerators",children:Object(f.jsx)(p.a,{variant:"h4",component:"h2",color:"textSecondary",children:"Click the plus icon to get started."})})}),Object(f.jsx)(k.a,{open:v,autoHideDuration:6e3,onClose:function(){return _(!1)},children:Object(f.jsx)(w.a,{elevation:6,variant:"filled",onClose:function(){return _(!1)},severity:"success",children:"Your playlist generator has been saved"})}),Object(f.jsx)(S.a,{open:d,onBackdropClick:B,children:Object(f.jsx)(R,{at:i,user:a,setError:s,fetchGenerators:E,exisitingGenerator:A,closeSelf:function(){j(!1),_(!0),P(null)}})})]})},ke=function(e){var t=e.at,a=e.setError,r=Object(n.useState)(null),i=Object(u.a)(r,2),s=i[0],c=i[1],h=Object(n.useState)(null),d=Object(u.a)(h,2),j=(d[0],d[1],Object(n.useState)(null)),b=Object(u.a)(j,2),p=b[0],x=b[1],v=function(){var e=Object(o.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==s.length){e.next=3;break}return a("Please add search query"),e.abrupt("return");case 3:try{fetch("http://www.autoplaylistify.com/generator?query=".concat(s)).then((function(e){return e.json()})).then((function(e){if(e.error)throw e.error;var a=[];for(var n in e){var r=new V(Object(m.a)(Object(m.a)({},e[n]),{},{limit:e[n].lim}));r.playlist||r.run(t),a.push(r)}x(a)}))}catch(n){a(n)}case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),_=p?p.map((function(e){return Object(f.jsx)(xe,{generator:e,at:t,setError:a,discover:!0})})):null;return Object(f.jsxs)("div",{className:"Discover",children:[Object(f.jsxs)("div",{className:"Discover__field",children:[Object(f.jsx)(L.a,{fullWidth:!0,value:s,onChange:function(e){c(e.target.value)},label:"Discover"}),Object(f.jsx)(G.a,{variant:"outlined",color:"primary",onClick:v,children:"Search"})]}),Object(f.jsx)("div",{className:"Main__GeneratorCards",children:_})]})},Se=a(193),we=a(188),Ne=a(192),Ce=a(191),Te=a(187),De=a(189),Ge=a(190),Ae=a(99),Pe=function(e){var t=e.setError,a=Object(n.useState)(null),r=Object(u.a)(a,2),i=r[0],s=r[1],c=Object(P.a)({table:{minWidth:650}})(),m=function(){var e=Object(o.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("http://www.autoplaylistify.com/report").then((function(e){return e.json()})).then((function(e){if(e.reportData)return e.reportData}));case 3:return t=e.sent,e.abrupt("return",t);case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)((function(){(function(){var e=Object(o.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m();case 2:t=e.sent,console.log(t),s(t);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[t]);var h=i?Object(f.jsx)(Te.a,{component:Ae.a,children:Object(f.jsxs)(we.a,{className:c.table,"aria-label":"reports",children:[Object(f.jsx)(De.a,{children:Object(f.jsxs)(Ge.a,{children:[Object(f.jsx)(Ce.a,{children:"Generator Name"}),Object(f.jsx)(Ce.a,{align:"right",children:"Creator Name"}),Object(f.jsx)(Ce.a,{align:"right",children:"Created/Modified Time"}),Object(f.jsx)(Ce.a,{align:"right",children:"Seed Artists"}),Object(f.jsx)(Ce.a,{align:"right",children:"Seed Genres"}),Object(f.jsx)(Ce.a,{align:"right",children:"Seed tracks"})]})}),Object(f.jsx)(Ne.a,{children:i.map((function(e){return Object(f.jsxs)(Ge.a,{children:[Object(f.jsx)(Ce.a,{component:"th",scope:"row",children:e.generatorName}),Object(f.jsx)(Ce.a,{align:"right",children:e.name}),Object(f.jsx)(Ce.a,{align:"right",children:e.time}),Object(f.jsx)(Ce.a,{align:"right",children:JSON.parse(e.seed_artists).map((function(e){return e.name})).toString()}),Object(f.jsx)(Ce.a,{align:"right",children:JSON.parse(e.seed_genres).toString()}),Object(f.jsx)(Ce.a,{align:"right",children:JSON.parse(e.seed_tracks).map((function(e){return e.name})).toString()})]},e.name+e.time)}))})]})}):null;return Object(f.jsx)("div",{className:"Discover",children:i?h:Object(f.jsx)("div",{children:Object(f.jsx)(Se.a,{color:"primary"})})})},Ee=a(194),Le=a(98),Be=a(195),Je=Object(Le.a)({palette:{type:"dark",primary:{main:"#55b53f"},secondary:{main:"#b60edc"},background:{default:"#3d2f3c",paper:"#3d2f3c"},text:{primary:"#ffffff"}}});function Re(e){return Object(f.jsx)(w.a,Object(m.a)({elevation:6,variant:"filled"},e))}var qe=function(){var e=Object(n.useState)(null),t=Object(u.a)(e,2),a=t[0],i=t[1],s=Object(n.useState)(null),c=Object(u.a)(s,2),j=c[0],b=c[1],p=Object(n.useState)(null),v=Object(u.a)(p,2),_=v[0],O=v[1],g=Object(n.useState)(!1),S=Object(u.a)(g,2),w=S[0],N=S[1],C=Object(n.useState)(null),T=Object(u.a)(C,2),D=T[0],G=T[1];Object(n.useEffect)((function(){var e=function(){var e=Object(o.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,J(a,n);case 3:t=e.sent,i(t),t&&fetch("http://www.autoplaylistify.com/user",{method:"POST",cache:"no-cache",credentials:"same-origin",headers:{Accept:"application/json","Content-Type":"application/json"},redirect:"follow",referrerPolicy:"no-referrer",body:JSON.stringify(Object(m.a)(Object(m.a)({},t),{},{refresh_token:n}))}).then((function(e){return e.json()})).then((function(e){e.success||G("failed to save user informaiton")})),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),G(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),t=new URLSearchParams(window.location.pathname),a=t.get("/access_token"),n=t.get("refresh_token");a&&(b(a),O(n),e())}),[]),Object(n.useEffect)((function(){!w&&D&&N(!0)}),[D,w]);var A=function(e,t){"clickaway"!==t&&(G(null),N(!1))};return Object(f.jsxs)(r.a.Fragment,{children:[Object(f.jsx)(Ee.a,{}),Object(f.jsx)(Be.a,{theme:Je,children:Object(f.jsx)(h.a,{children:Object(f.jsxs)(Ae.a,{children:[Object(f.jsx)(x,{user:a}),Object(f.jsxs)(d.c,{children:[Object(f.jsx)(d.a,{exact:!0,path:"/",children:Object(f.jsxs)(r.a.Fragment,{children:[Object(f.jsx)(y,{hide:a}),Object(f.jsx)(ge,{hide:!a,at:j,rt:_,user:a,setError:G})]})}),Object(f.jsx)(d.a,{path:"/Discover",children:Object(f.jsx)(ke,{at:j,setError:G})}),Object(f.jsx)(d.a,{path:"/Reporting",children:Object(f.jsx)(Pe,{setError:G})}),Object(f.jsx)(d.a,{children:Object(f.jsxs)(r.a.Fragment,{children:[Object(f.jsx)(y,{hide:a}),Object(f.jsx)(ge,{hide:!a,at:j,rt:_,user:a,setError:G})]})})]}),Object(f.jsx)(k.a,{open:w,autoHideDuration:6e3,onClose:A,children:Object(f.jsx)(Re,{onClose:A,severity:"error",children:D})})]})})})]})};s.a.render(Object(f.jsx)(r.a.StrictMode,{children:Object(f.jsx)(qe,{})}),document.getElementById("root"))}},[[125,1,2]]]);
//# sourceMappingURL=main.56683e32.chunk.js.map